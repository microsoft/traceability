title: Simple Certificate of Origin Credential Schema (Example)
description: Minimal example schema for verifiable credentials representing certificates of origin
type: object
required:
  - "@context"
  - type
  - issuer
  - validFrom
  - credentialSubject
  - cnf
properties:
  "@context":
    type: array
    items:
      type: string
    minItems: 2
    contains:
      enum:
        - "https://www.w3.org/ns/credentials/v2"
        - "https://geojson.org/geojson-ld/geojson-context.jsonld"
  type:
    type: array
    items:
      type: string
    minItems: 2
    contains:
      enum:
        - "VerifiableCredential"
        - "CertificateOfOriginCredential"
  issuer:
    type: string
    format: uri
  validFrom:
    type: string
    format: date-time
  validUntil:
    type: string
    format: date-time
  cnf:
    type: object
    description: Confirmation method for holder binding
    required:
      - kid
    properties:
      kid:
        type: string
        description: Key identifier of the holder's key
  credentialSubject:
    type: object
    required:
      - id
      - type
      - features
    properties:
      id:
        type: string
        format: uri
      type:
        const: "FeatureCollection"
      features:
        type: array
        minItems: 1
        items:
          type: object
          required:
            - type
            - geometry
            - properties
          properties:
            type:
              const: "Feature"
            geometry:
              $ref: "#/$defs/GeoJSONPoint"
            properties:
              type: object
              required:
                - type
                - certificateNumber
                - origin
                - product
                - quantity
              properties:
                type:
                  const: "CertificateOfOrigin"
                certificateNumber:
                  type: string
                origin:
                  type: object
                  required:
                    - country
                    - facility
                  properties:
                    country:
                      type: string
                    facility:
                      type: string
                product:
                  type: string
                quantity:
                  type: string
                issueDate:
                  type: string
                  format: date

examples:
  - "@context":
      - "https://www.w3.org/ns/credentials/v2"
      - "https://geojson.org/geojson-ld/geojson-context.jsonld"
    type:
      - "VerifiableCredential"
      - "CertificateOfOriginCredential"
    issuer: "https://legit-shrimp.example/entity/tt-pos-001"
    validFrom: "2024-01-10T10:00:00Z"
    cnf:
      kid: "LrQ5E8KeOiQ62VVIc_iDcCU1xMwcIOzk1DciPI8DdpU"
    credentialSubject:
      id: "https://certificates.example/coo-2024-001"
      type: "FeatureCollection"
      features:
        - type: "Feature"
          geometry:
            type: "Point"
            coordinates: [-61.5167, 10.6596]
          properties:
            type: "CertificateOfOrigin"
            certificateNumber: "COO-2024-001"
            origin:
              country: "Trinidad and Tobago"
              facility: "Legit Shrimp Ltd Port Facility"
            product: "Frozen Shrimp"
            quantity: "1000kg"
            issueDate: "2024-01-10"

$defs:
  GeoJSONPoint:
    type: object
    required:
      - type
      - coordinates
    properties:
      type:
        const: "Point"
      coordinates:
        type: array
        minItems: 2
        maxItems: 3
        items:
          type: number